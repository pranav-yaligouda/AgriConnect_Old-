{"version":3,"mappings":"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","names":["m","require$$0","client","isString","obj","defer","res","rej","promise","resolve","reject","makeString","object","copy","a","s","lastOfPathSeparatorRegExp","cleanKey","key","canNotTraverseDeeper","getLastOfPath","path","Empty","stack","stackIndex","setPath","newValue","k","e","p","last","pushPath","concat","getPath","getPathWithDefaults","data","defaultData","value","deepExtend","target","source","overwrite","prop","regexEscape","str","_entityMap","escape","RegExpCache","capacity","pattern","regExpFromCache","regExpNew","chars","looksLikeObjectPathRegExpCache","looksLikeObjectPath","nsSeparator","keySeparator","possibleChars","c","r","matched","ki","deepFind","tokens","current","i","next","nextPath","j","getCleanedCode","code","consoleLogger","args","type","_b","_a","Logger","concreteLogger","options","_len","_key","_len2","_key2","_len3","_key3","_len4","_key4","lvl","prefix","debugOnly","moduleName","baseLogger","EventEmitter","events","listener","event","numListeners","_ref","observer","numTimesAdded","_ref2","ResourceStore","ns","index","lng","ignoreJSONStructure","result","resources","deep","pack","v","postProcessor","module","processors","translator","processor","checkedLoadedFor","shouldHandleAsObject","Translator","services","resolved","opt","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","parts","keys","lastKey","returnDetails","namespace","appendNamespaceToCIMode","resUsedKey","resExactUsedKey","noObject","joinArrays","handleAsObjectInI18nFormat","needsPluralHandling","hasDefaultValue","defaultValueSuffix","defaultValueSuffixOrdinalFallback","needsZeroSuffixLookup","defaultValue","resForObjHndl","handleAsObject","resType","resTypeIsArray","newKeyToUse","deepKey","usedDefault","usedKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","send","l","specificDefaultValue","defaultForMissing","language","suffixes","suffix","_this","skipOnVariables","nestBef","nb","na","nestAft","postProcess","postProcessorNames","found","exactUsedKey","usedLng","usedNS","extracted","needsContextHandling","codes","finalKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","possibleKey","optionsKeys","useOptionsReplaceForData","option","LanguageUtil","formattedCode","cleanedLng","lngScOnly","lngOnly","supportedLng","fallbacks","fallbackCode","fallbackCodes","addCode","fc","suffixesOrder","dummyRule","count","PluralResolver","languageUtils","cleanedCode","cacheKey","rule","lngPart","pluralCategory1","pluralCategory2","pluralCategory","deepFindWithDefaults","regexSafe","val","Interpolator","escape$1","escapeValue","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","getOrResetRegExp","existingRegExp","match","replaces","handleFormat","f","missingInterpolationHandler","todo","matchedVar","temp","safeValue","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","parseFormatStr","formatStr","formatName","formatOptions","optStr","rest","trimmedKey","createCachedFormatter","fn","cache","optForCache","formatter","Formatter","name","format","formats","lastIndex","mem","formatted","valOptions","error","removePending","q","Connector","backend","store","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","err","loaded","loadedKeys","n","fcName","tried","wait","resolver","fallbackValue","isUpdate","clb","_d","_c","_e","opts","get","ret","transformOptions","noop","bindMemberFunctions","inst","I18n","defOpts","createClassOnDemand","ClassOrObject","lu","deferred","load","finish","t","usedCallback","append","li","lngInLngs","_this2","setLngProps","done","setLng","keyPrefix","_this3","fixedT","o","resultKey","_len5","_key5","fallbackLng","lastLng","loadNotPending","loadState","preResult","preloaded","newLngs","rtlLngs","forkResourceStore","mergedOptions","clone","clonedData","prev","acc","_len6","_key6","instance","i18n","initReactI18next","enTranslation","enFAQ","enMarketplace","enDashboard","enProfile","enGeo","knTranslation","knFAQ","knMarketplace","knDashboard","knProfile","knGeo","hiTranslation","hiFAQ","hiMarketplace","hiDashboard","hiProfile","hiGeo","mrTranslation","mrFAQ","mrMarketplace","mrDashboard","mrProfile","mrGeo","LanguageSwitcher","drawerMenu","useTranslation","handleChange","lang","supportedLangs","currentLang","jsxs","FormControl","jsx","InputLabel","Select","MenuItem","Navbar","anchorEl","setAnchorEl","useState","mobileMenuOpen","setMobileMenuOpen","theme","useTheme","isMobile","useMediaQuery","navigate","useNavigate","location","useLocation","useEffect","isAuthenticated","handleMenuOpen","handleMenuClose","handleMobileMenuToggle","handleLogout","mainMenuItems","ShoppingBasket","Dashboard","isActive","renderMobileMenu","Drawer","Box","ImageWithFallback","Typography","IconButton","MenuIcon","Divider","List","mobileMenuItems","dashboardIdx","item","Person","ListItem","RouterLink","ListItemIcon","ListItemText","InfoOutlined","Logout","Login","Fragment","Slide","AppBar","Container","Toolbar","Button","Tooltip","Avatar","Menu","Footer","year","footerLinks","HomeIcon","HelpOutline","Grid","column","link","linkIndex","Link","MuiLink","Facebook","Twitter","Instagram","Home","isLoggedIn","setIsLoggedIn","token","features","LocationOn","VerifiedUser","Group","feature","Card","CardContent","PrivateRoute","Outlet","Navigate","LoadingSpinner","CircularProgress","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","isView","encodePacket","supportsBinary","encodeBlobAsBase64","fileReader","content","toArray","TEXT_ENCODER","encodePacketToBinary","packet","encoded","lookup","decode","base64","bufferLength","len","encoded1","encoded2","encoded3","encoded4","arraybuffer","bytes","decodePacket","encodedPacket","binaryType","mapBinary","decodeBase64Packet","decoded","SEPARATOR","encodePayload","packets","length","encodedPackets","decodePayload","encodedPayload","decodedPacket","createPacketEncoderStream","controller","payloadLength","header","view","TEXT_DECODER","totalLength","chunks","chunk","concatChunks","size","buffer","createPacketDecoderStream","maxPayload","state","expectedLength","isBinary","headerArray","protocol","Emitter","mixin","on","callbacks","cb","nextTick","setTimeoutFn","globalThisShim","defaultBinaryType","pick","attr","NATIVE_SET_TIMEOUT","globalThis","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","BASE64_OVERHEAD","byteLength","utf8Length","randomString","encode","qs","qry","pairs","pair","TransportError","reason","description","context","Transport","details","onPause","schema","query","hostname","encodedQuery","Polling","pause","total","close","hasCORS","empty","BaseXHR","isSSL","port","req","xhrStatus","Request","createRequest","uri","xhr","fromError","unloadHandler","terminationEvent","hasXHR2","newRequest","XHR","forceBase64","xdomain","isReactNative","BaseWS","protocols","closeEvent","ev","lastPacket","WebSocketCtor","WS","_packet","WT","stream","decoderStream","reader","encoderStream","read","transports","re","parse","src","b","pathNames","queryKey","regx","names","$0","$1","$2","withEventListeners","OFFLINE_EVENT_LISTENERS","SocketWithoutUpgrade","parsedUri","transportName","transport","delay","payloadSize","hasExpired","msg","cleanupAndClose","waitForUpgrade","SocketWithUpgrade","failed","onTransportOpen","cleanup","freezeTransport","onerror","onTransportClose","onclose","onupgrade","to","upgrades","filteredUpgrades","DEFAULT_TRANSPORTS","url","loc","host","toString","withNativeFile","hasBinary","toJSON","deconstructPacket","buffers","packetData","_deconstructPacket","placeholder","newData","reconstructPacket","_reconstructPacket","RESERVED_EVENTS","PacketType","Encoder","replacer","deconstruction","isObject","Decoder","reviver","isBinaryEvent","BinaryReconstructor","start","buf","payload","binData","Socket","io","nsp","id","ack","isTransportWritable","isConnected","timeout","timer","arg1","arg2","responseArgs","force","listeners","self","sent","pid","subDestroy","compress","Backoff","ms","rand","deviation","min","max","jitter","Manager","_parser","parser","Engine","socket","openSubDestroy","onError","errorSub","nsps","attempt","parsed","sameNamespace","newConnection","SocketContext","createContext","SocketProvider","children","setSocket","socketInstance","NotificationContext","NotificationProvider","notification","setNotification","open","setOpen","notify","message","severity","handleClose","Snackbar","Alert","useSocket","useContext","useNotification","NotificationWidget","handleOrderStatus","order","handleMessage","lazy","__vitePreload","Marketplace","ProductDetails","Profile","Register","ManageProducts","About","Contact","FAQ","ErrorPage","AdminLogin","AdminDashboard","createTheme","App","ThemeProvider","CssBaseline","AuthProvider","Router","Routes","Route","Suspense","ToastContainer","ReactDOM","React"],"ignoreList":[0,1,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35],"sources":["../../node_modules/react-dom/client.js","../../node_modules/i18next/dist/esm/i18next.js","../../src/i18n.js","../../src/components/LanguageSwitcher.tsx","../../src/components/layout/Navbar.tsx","../../src/components/layout/Footer.tsx","../../src/pages/Home.tsx","../../src/components/PrivateRoute.tsx","../../src/components/LoadingSpinner.tsx","../../node_modules/engine.io-parser/build/esm/commons.js","../../node_modules/engine.io-parser/build/esm/encodePacket.browser.js","../../node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","../../node_modules/engine.io-parser/build/esm/decodePacket.browser.js","../../node_modules/engine.io-parser/build/esm/index.js","../../node_modules/@socket.io/component-emitter/lib/esm/index.js","../../node_modules/engine.io-client/build/esm/globals.js","../../node_modules/engine.io-client/build/esm/util.js","../../node_modules/engine.io-client/build/esm/contrib/parseqs.js","../../node_modules/engine.io-client/build/esm/transport.js","../../node_modules/engine.io-client/build/esm/transports/polling.js","../../node_modules/engine.io-client/build/esm/contrib/has-cors.js","../../node_modules/engine.io-client/build/esm/transports/polling-xhr.js","../../node_modules/engine.io-client/build/esm/transports/websocket.js","../../node_modules/engine.io-client/build/esm/transports/webtransport.js","../../node_modules/engine.io-client/build/esm/transports/index.js","../../node_modules/engine.io-client/build/esm/contrib/parseuri.js","../../node_modules/engine.io-client/build/esm/socket.js","../../node_modules/socket.io-client/build/esm/url.js","../../node_modules/socket.io-parser/build/esm/is-binary.js","../../node_modules/socket.io-parser/build/esm/binary.js","../../node_modules/socket.io-parser/build/esm/index.js","../../node_modules/socket.io-client/build/esm/on.js","../../node_modules/socket.io-client/build/esm/socket.js","../../node_modules/socket.io-client/build/esm/contrib/backo2.js","../../node_modules/socket.io-client/build/esm/manager.js","../../node_modules/socket.io-client/build/esm/index.js","../../src/contexts/SocketContext.tsx","../../src/contexts/NotificationContext.tsx","../../src/hooks/useSocket.ts","../../src/hooks/useNotification.ts","../../src/components/NotificationWidget.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","const isString = obj => typeof obj === 'string';\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || isString(object);\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = !isString(path) ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last?.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  if (!Object.prototype.hasOwnProperty.call(obj, k)) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (isString(data)) {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = function (obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) {\n    if (!Object.prototype.hasOwnProperty.call(obj, path)) return undefined;\n    return obj[path];\n  }\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => code?.replace('_', '-');\n\nconst consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    console?.[type]?.apply?.(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(_ref => {\n        let [observer, numTimesAdded] = _ref;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(_ref2 => {\n        let [observer, numTimesAdded] = _ref2;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (isString(key) && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || !isString(key)) return result;\n    return deepFind(this.data?.[lng]?.[ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false,\n      skipCopy: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      value = this.processors[processor]?.process(value, key, options, translator) ?? value;\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nconst shouldHandleAsObject = res => !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key == null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved?.res !== undefined;\n  }\n  extractFromKey(key, opt) {\n    let nsSeparator = opt.nsSeparator !== undefined ? opt.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = opt.keySeparator !== undefined ? opt.keySeparator : this.options.keySeparator;\n    let namespaces = opt.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !opt.keySeparator && !this.options.userDefinedNsSeparator && !opt.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces: isString(namespaces) ? [namespaces] : namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    return {\n      key,\n      namespaces: isString(namespaces) ? [namespaces] : namespaces\n    };\n  }\n  translate(keys, opt, lastKey) {\n    if (typeof opt !== 'object' && this.options.overloadTranslationOptionHandler) {\n      opt = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') opt = {\n      ...opt\n    };\n    if (!opt) opt = {};\n    if (keys == null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = opt.returnDetails !== undefined ? opt.returnDetails : this.options.returnDetails;\n    const keySeparator = opt.keySeparator !== undefined ? opt.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], opt);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = opt.lng || this.language;\n    const appendNamespaceToCIMode = opt.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng?.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = opt.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(opt)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(opt)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, opt);\n    let res = resolved?.res;\n    const resUsedKey = resolved?.usedKey || key;\n    const resExactUsedKey = resolved?.exactUsedKey || key;\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = opt.joinArrays !== undefined ? opt.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const needsPluralHandling = opt.count !== undefined && !isString(opt.count);\n    const hasDefaultValue = Translator.hasDefaultValue(opt);\n    const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, opt.count, opt) : '';\n    const defaultValueSuffixOrdinalFallback = opt.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, opt.count, {\n      ordinal: false\n    }) : '';\n    const needsZeroSuffixLookup = needsPluralHandling && !opt.ordinal && opt.count === 0;\n    const defaultValue = needsZeroSuffixLookup && opt[`defaultValue${this.options.pluralSeparator}zero`] || opt[`defaultValue${defaultValueSuffix}`] || opt[`defaultValue${defaultValueSuffixOrdinalFallback}`] || opt.defaultValue;\n    let resForObjHndl = res;\n    if (handleAsObjectInI18nFormat && !res && hasDefaultValue) {\n      resForObjHndl = defaultValue;\n    }\n    const handleAsObject = shouldHandleAsObject(resForObjHndl);\n    const resType = Object.prototype.toString.apply(resForObjHndl);\n    if (handleAsObjectInI18nFormat && resForObjHndl && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(resForObjHndl))) {\n      if (!opt.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, resForObjHndl, {\n          ...opt,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(opt);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(resForObjHndl);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in resForObjHndl) {\n          if (Object.prototype.hasOwnProperty.call(resForObjHndl, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            if (hasDefaultValue && !res) {\n              copy[m] = this.translate(deepKey, {\n                ...opt,\n                defaultValue: shouldHandleAsObject(defaultValue) ? defaultValue[m] : undefined,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            } else {\n              copy[m] = this.translate(deepKey, {\n                ...opt,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            }\n            if (copy[m] === deepKey) copy[m] = resForObjHndl[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, opt, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = opt.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...opt,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, opt.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(opt.lng || this.language);\n        } else {\n          lngs.push(opt.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, opt);\n          } else if (this.backendConnector?.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, opt);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, opt);\n              if (needsZeroSuffixLookup && opt[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, opt[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, opt, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(opt);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, opt, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat?.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...opt\n      }, opt.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!opt.skipInterpolation) {\n      if (opt.interpolation) this.interpolator.init({\n        ...opt,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...opt.interpolation\n          }\n        }\n      });\n      const skipOnVariables = isString(res) && (opt?.interpolation?.skipOnVariables !== undefined ? opt.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = opt.replace && !isString(opt.replace) ? opt.replace : opt;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, opt.lng || this.language || resolved.usedLng, opt);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) opt.nest = false;\n      }\n      if (!opt.lng && resolved && resolved.res) opt.lng = this.language || resolved.usedLng;\n      if (opt.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey?.[0] === args[0] && !opt.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, opt);\n      if (opt.interpolation) this.interpolator.reset();\n    }\n    const postProcess = opt.postProcess || this.options.postProcess;\n    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n    if (res != null && postProcessorNames?.length && opt.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(opt)\n        },\n        ...opt\n      } : opt, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let opt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (isString(keys)) keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, opt);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = opt.count !== undefined && !isString(opt.count);\n      const needsZeroSuffixLookup = needsPluralHandling && !opt.ordinal && opt.count === 0;\n      const needsContextHandling = opt.context !== undefined && (isString(opt.context) || typeof opt.context === 'number') && opt.context !== '';\n      const codes = opt.lngs ? opt.lngs : this.languageUtils.toResolveHierarchy(opt.lng || this.language, opt.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils?.hasLoadedNamespace && !this.utils?.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat?.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, opt);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, opt.count, opt);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (opt.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${opt.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (opt.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, opt);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat?.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && !isString(options.replace);\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (isString(code) && code.indexOf('-') > -1) {\n      let formattedCode;\n      try {\n        formattedCode = Intl.getCanonicalLocales(code)[0];\n      } catch (e) {}\n      if (formattedCode && this.options.lowerCaseLng) {\n        formattedCode = formattedCode.toLowerCase();\n      }\n      if (formattedCode) return formattedCode;\n      if (this.options.lowerCaseLng) {\n        return code.toLowerCase();\n      }\n      return code;\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngScOnly = this.getScriptPartFromCode(code);\n        if (this.isSupportedCode(lngScOnly)) return found = lngScOnly;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (isString(fallbacks)) fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (isString(code)) {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst dummyRule = {\n  select: count => count === 1 ? 'one' : 'other',\n  resolvedOptions: () => ({\n    pluralCategories: ['one', 'other']\n  })\n};\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.pluralRulesCache = {};\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n    const type = options.ordinal ? 'ordinal' : 'cardinal';\n    const cacheKey = JSON.stringify({\n      cleanedCode,\n      type\n    });\n    if (cacheKey in this.pluralRulesCache) {\n      return this.pluralRulesCache[cacheKey];\n    }\n    let rule;\n    try {\n      rule = new Intl.PluralRules(cleanedCode, {\n        type\n      });\n    } catch (err) {\n      if (!Intl) {\n        this.logger.error('No Intl support, please use an Intl polyfill!');\n        return dummyRule;\n      }\n      if (!code.match(/-|_/)) return dummyRule;\n      const lngPart = this.languageUtils.getLanguagePartFromCode(code);\n      rule = this.getRule(lngPart, options);\n    }\n    this.pluralRulesCache[cacheKey] = rule;\n    return rule;\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    return rule?.resolvedOptions().pluralCategories.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    if (!rule) return [];\n    return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return this.getSuffix('dev', count, options);\n  }\n}\n\nconst deepFindWithDefaults = function (data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && isString(key)) {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options?.interpolation?.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp?.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options?.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options?.interpolation?.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = isString(temp) ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (!isString(value) && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if ((matchedSingleQuotes?.length ?? 0) % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && !isString(value)) return value;\n      if (!isString(value)) value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (val, lng, options) => {\n    let optForCache = options;\n    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [options.interpolationkey]: undefined\n      };\n    }\n    const key = lng + JSON.stringify(optForCache);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n};\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    this.formatSeparator = options.interpolation.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options?.formatParams?.[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    this.backend?.init?.(services, options.backend, options);\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n    if (isString(namespaces)) namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services?.utils?.hasLoadedNamespace && !this.services?.utils?.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend?.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initAsync: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (isString(args[1])) ret.defaultValue = args[1];\n    if (isString(args[2])) ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  }\n});\nconst transformOptions = options => {\n  if (isString(options.ns)) options.ns = [options.ns];\n  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs?.indexOf?.('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  if (typeof options.initImmediate === 'boolean') options.initAsync = options.initImmediate;\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initAsync) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (options.defaultNS == null && options.ns) {\n      if (isString(options.ns)) {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    this.options.interpolation = {\n      ...defOpts.interpolation,\n      ...this.options.interpolation\n    };\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initAsync) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = isString(language) ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng?.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      this.options.preload?.forEach?.(l => append(l));\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        if (this.isLanguageChangingTo === lng) {\n          setLngProps(l);\n          this.translator.changeLanguage(l);\n          this.isLanguageChangingTo = undefined;\n          this.emit('languageChanged', l);\n          this.logger.log('languageChanged', l);\n        }\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = this.services.languageUtils.getBestMatchFromCodes(isString(lngs) ? [lngs] : lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        this.services.languageDetector?.cacheUserLanguage?.(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let o;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        o = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        o = {\n          ...opts\n        };\n      }\n      o.lng = o.lng || fixedT.lng;\n      o.lngs = o.lngs || fixedT.lngs;\n      o.ns = o.ns || fixedT.ns;\n      if (o.keyPrefix !== '') o.keyPrefix = o.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (o.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${o.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = o.keyPrefix ? `${o.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, o);\n    };\n    if (isString(lng)) {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.translator?.translate(...args);\n  }\n  exists() {\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n    return this.translator?.exists(...args);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (isString(ns)) ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (isString(lngs)) lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages?.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services?.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      const clonedData = Object.keys(this.store.data).reduce((prev, l) => {\n        prev[l] = {\n          ...this.store.data[l]\n        };\n        return Object.keys(prev[l]).reduce((acc, n) => {\n          acc[n] = {\n            ...prev[l][n]\n          };\n          return acc;\n        }, {});\n      }, {});\n      clone.store = new ResourceStore(clonedData, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len6 = arguments.length, args = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {\n        args[_key6 - 1] = arguments[_key6];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport enTranslation from './locales/en/translation.json';\nimport knTranslation from './locales/kn/translation.json';\nimport hiTranslation from './locales/hi/translation.json';\nimport mrTranslation from './locales/mr/translation.json';\nimport enFAQ from './locales/en/faq.json';\nimport knFAQ from './locales/kn/faq.json';\nimport hiFAQ from './locales/hi/faq.json';\nimport mrFAQ from './locales/mr/faq.json';\nimport enMarketplace from './locales/en/marketplace.json';\nimport knMarketplace from './locales/kn/marketplace.json';\nimport hiMarketplace from './locales/hi/marketplace.json';\nimport mrMarketplace from './locales/mr/marketplace.json';\nimport enDashboard from './locales/en/translation.json';\nimport knDashboard from './locales/kn/translation.json';\nimport hiDashboard from './locales/hi/translation.json';\nimport mrDashboard from './locales/mr/translation.json';\nimport enProfile from './locales/en/translation.json';\nimport knProfile from './locales/kn/translation.json';\nimport hiProfile from './locales/hi/translation.json';\nimport mrProfile from './locales/mr/translation.json';\nimport enGeo from './locales/en/geo.json';\nimport knGeo from './locales/kn/geo.json';\nimport hiGeo from './locales/hi/geo.json';\nimport mrGeo from './locales/mr/geo.json';\n\ni18n\n  .use(initReactI18next)\n  .init({\n    resources: {\n      en: { translation: enTranslation, faq: enFAQ, marketplace: enMarketplace, dashboard: enDashboard, profile: enProfile, geo: enGeo },\n      kn: { translation: knTranslation, faq: knFAQ, marketplace: knMarketplace, dashboard: knDashboard, profile: knProfile, geo: knGeo },\n      hi: { translation: hiTranslation, faq: hiFAQ, marketplace: hiMarketplace, dashboard: hiDashboard, profile: hiProfile, geo: hiGeo },\n      mr: { translation: mrTranslation, faq: mrFAQ, marketplace: mrMarketplace, dashboard: mrDashboard, profile: mrProfile, geo: mrGeo },\n    },\n    ns: ['translation', 'faq', 'marketplace', 'dashboard', 'profile', 'geo'],\n    defaultNS: 'translation',\n    lng: localStorage.getItem('i18nextLng') || 'en',\n    fallbackLng: 'en',\n    interpolation: { escapeValue: false },\n    detection: {\n      order: ['localStorage', 'navigator', 'htmlTag'],\n      caches: ['localStorage'],\n    },\n  });\n\nexport default i18n;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { MenuItem, Select, FormControl, InputLabel } from \"@mui/material\";\nimport { SelectChangeEvent } from '@mui/material/Select';\n\ninterface LanguageSwitcherProps {\n  drawerMenu?: boolean;\n}\n\nconst LanguageSwitcher: React.FC<LanguageSwitcherProps> = ({ drawerMenu }) => {\n  const { i18n, t } = useTranslation();\n  const handleChange = (event: SelectChangeEvent<string>) => {\n    let lang = event.target.value as string;\n    if (lang === 'hi-IN') lang = 'hi';\n    i18n.changeLanguage(lang);\n  };\n\n  // Ensure the value is always one of the supported codes\n  const supportedLangs = ['en', 'kn', 'hi', 'mr'];\n  let currentLang = i18n.language;\n  if (currentLang === 'hi-IN') currentLang = 'hi';\n  if (!supportedLangs.includes(currentLang)) currentLang = 'en';\n\n  return (\n    <FormControl\n      size=\"small\"\n      variant=\"outlined\"\n      sx={{\n        minWidth: 120,\n        ml: drawerMenu ? 0 : 2,\n        '& .MuiInputLabel-root': {\n          color: drawerMenu ? 'black' : 'white',\n        },\n        '& .MuiOutlinedInput-root': {\n          color: drawerMenu ? 'black' : 'white',\n          backgroundColor: drawerMenu ? 'white' : 'rgba(255,255,255,0.08)',\n          borderRadius: 1,\n          '& fieldset': {\n            borderColor: drawerMenu ? 'rgba(46,125,50,0.2)' : 'rgba(255,255,255,0.5)',\n          },\n          '&:hover fieldset': {\n            borderColor: drawerMenu ? '#2e7d32' : 'white',\n          },\n        },\n        '& .MuiSvgIcon-root': {\n          color: drawerMenu ? 'black' : 'white',\n        },\n        '& .MuiSelect-icon': {\n          color: drawerMenu ? 'black' : 'white',\n        },\n      }}\n    >\n      <InputLabel id=\"lang-select-label\" sx={{ color: drawerMenu ? 'black' : 'white' }}>{t('languageSwitcher.language')}</InputLabel>\n      <Select\n        labelId=\"lang-select-label\"\n        id=\"lang-select\"\n        value={currentLang}\n        label={t('languageSwitcher.language')}\n        onChange={handleChange}\n        sx={{\n          color: drawerMenu ? 'black' : 'white',\n          '& .MuiSelect-select': {\n            color: drawerMenu ? 'black' : 'white',\n          },\n        }}\n        MenuProps={{\n          PaperProps: {\n            sx: {\n              backgroundColor: 'white',\n              color: 'black',\n              zIndex: 2000, // ensure it's above Drawer\n              minWidth: drawerMenu ? 160 : undefined,\n            },\n          },\n          disablePortal: drawerMenu ? true : false,\n        }}\n      >\n        <MenuItem value=\"en\" sx={{ color: 'black', fontWeight: currentLang === 'en' ? 700 : 400 }}>{t('languageSwitcher.english')}</MenuItem>\n        <MenuItem value=\"kn\" sx={{ color: 'black', fontWeight: currentLang === 'kn' ? 700 : 400 }}></MenuItem>\n        <MenuItem value=\"hi\" sx={{ color: 'black', fontWeight: currentLang === 'hi' ? 700 : 400 }}></MenuItem>\n        <MenuItem value=\"mr\" sx={{ color: 'black', fontWeight: currentLang === 'mr' ? 700 : 400 }}></MenuItem>\n      </Select>\n    </FormControl>\n  );\n};\n\nexport default LanguageSwitcher;","// Navbar.tsx\n// Enhanced responsive navigation bar for AgriConnect\n// Includes all main routes: Connections, Marketplace, Profile, etc.\n// Provides mobile drawer and desktop layout, authentication-aware links, and user menu\nimport { useState, useEffect } from \"react\";\nimport { Link as RouterLink, useNavigate, useLocation } from \"react-router-dom\";\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  IconButton,\n  Menu,\n  MenuItem,\n  Box,\n  Avatar,\n  useTheme,\n  useMediaQuery,\n  Drawer,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Divider,\n  Container,\n  Tooltip,\n  Slide,\n} from \"@mui/material\";\nimport {\n  Menu as MenuIcon,\n  Person,\n  ShoppingBasket,\n  Dashboard,\n  Logout,\n  Login,\n  InfoOutlined,\n  HelpOutline,\n  Group,\n  Forum,\n  \n  // Chat as ChatIcon\n} from \"@mui/icons-material\";\nimport AgricultureIcon from \"@mui/icons-material/Agriculture\";\nimport LanguageSwitcher from \"../LanguageSwitcher\";\nimport ImageWithFallback from '../ImageWithFallback';\nimport { useTranslation } from 'react-i18next';\n\n// Navbar component for AgriConnect\nconst Navbar = () => {\n  const { t } = useTranslation();\n  // State for user menu and mobile drawer\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"md\"));\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Scroll to top on route change\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [location.pathname]);\n\n  // Authentication status (replace with auth context in production)\n  const token = localStorage.getItem(\"token\");\n  const isAuthenticated = !!token;\n\n  // Handlers for user menu and mobile drawer\n  const handleMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n  const handleMobileMenuToggle = () => {\n    setMobileMenuOpen(!mobileMenuOpen);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    handleMenuClose();\n    navigate(\"/\");\n    window.location.reload();\n  };\n\n  // Main navigation links (order: Marketplace, Dashboard, Profile)\n  const mainMenuItems = [\n    { text: \"Marketplace\", path: \"/marketplace\", icon: <ShoppingBasket />, auth: false },\n    { text: \"Dashboard\", path: \"/dashboard\", icon: <Dashboard />, auth: true },\n    // { text: \"Users\", path: \"/users-directory\", icon: <Group />, auth: true },\n    // { text: \"Profile\", path: \"/profile\", icon: <Person />, auth: true }, // Desktop profile removed\n  ];\n\n  // Helper to check if a route is active\n  const isActive = (path: string) => location.pathname === path;\n\n  // Render mobile drawer menu\n  const renderMobileMenu = () => (\n    <Drawer\n      anchor=\"right\"\n      open={mobileMenuOpen}\n      onClose={handleMobileMenuToggle}\n      PaperProps={{ sx: { width: 280, bgcolor: 'background.paper', boxShadow: 6, borderRadius: '12px 0 0 12px', overflow: 'hidden' } }}\n      ModalProps={{ keepMounted: true }}\n      aria-label=\"mobile navigation menu\"\n    >\n      <Box sx={{ width: 280, pt: 2, height: '100%', display: 'flex', flexDirection: 'column', minHeight: '100vh', position: 'relative', pb: 0, overflow: 'hidden' }}>\n        {/* Drawer header with close button */}\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', px: 2, mb: 1 }}>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n            <ImageWithFallback\n              src=\"/favicon.svg\"\n              fallbackSrc=\"/favicon.svg\"\n              alt=\"AgriConnect Logo\"\n              style={{ width: 40, height: 40, objectFit: 'contain', padding: 4 }}\n            />\n            <Typography variant=\"h6\" color=\"primary\" fontWeight=\"bold\">\n              AgriConnect\n            </Typography>\n          </Box>\n          <IconButton aria-label=\"Close menu\" onClick={handleMobileMenuToggle} size=\"large\">\n            <MenuIcon sx={{ transform: 'rotate(90deg)' }} />\n          </IconButton>\n        </Box>\n        <Divider sx={{ mb: 2 }} />\n\n        <List>\n          {(() => {\n            // Insert Profile after Dashboard in mobile drawer\n            const mobileMenuItems = [...mainMenuItems];\n            const dashboardIdx = mobileMenuItems.findIndex(item => item.text === \"Dashboard\");\n            // Only add Profile if not already present\n            const hasProfile = mobileMenuItems.some(item => item.text === \"Profile\");\n            if (!hasProfile && dashboardIdx !== -1) {\n              mobileMenuItems.splice(dashboardIdx + 1, 0, { text: \"Profile\", path: \"/profile\", icon: <Person />, auth: true });\n            }\n            return mobileMenuItems.filter(item => !item.auth || isAuthenticated).map((item) => (\n              <ListItem\n                button\n                key={item.text}\n                component={RouterLink}\n                to={item.path}\n                onClick={handleMobileMenuToggle}\n                selected={isActive(item.path)}\n                sx={{\n                  bgcolor: isActive(item.path) ? \"rgba(46, 125, 50, 0.11)\" : \"transparent\",\n                  \"&:hover\": { bgcolor: \"rgba(46, 125, 50, 0.13)\" },\n                  borderRadius: 2,\n                  mx: 1,\n                  mb: 0.5,\n                  fontWeight: 600,\n                  fontSize: '1.08rem',\n                  color: isActive(item.path) ? 'primary.main' : 'text.primary',\n                  transition: 'all 0.16s',\n                }}\n              >\n                <ListItemIcon sx={{ color: isActive(item.path) ? \"primary.main\" : \"inherit\", minWidth: 38 }}>\n                  {item.icon}\n                </ListItemIcon>\n                <ListItemText\n                  primary={item.text}\n                  primaryTypographyProps={{\n                    fontWeight: isActive(item.path) ? 700 : 500,\n                    color: isActive(item.path) ? 'primary.main' : 'inherit',\n                    fontSize: '1.08rem',\n                    letterSpacing: 0.2,\n                  }}\n                />\n              </ListItem>\n            ));\n          })()}\n\n          {/* About Us always visible */}\n          <ListItem\n            button\n            component={RouterLink}\n            to=\"/about\"\n            onClick={handleMobileMenuToggle}\n            selected={isActive(\"/about\")}\n            sx={{\n              bgcolor: isActive(\"/about\") ? \"rgba(46, 125, 50, 0.11)\" : \"transparent\",\n              \"&:hover\": { bgcolor: \"rgba(46, 125, 50, 0.13)\" },\n              borderRadius: 2,\n              mx: 1,\n              mb: 0.5,\n              fontWeight: 600,\n              fontSize: '1.08rem',\n              color: isActive(\"/about\") ? 'primary.main' : 'text.primary',\n              transition: 'all 0.16s',\n            }}\n            aria-label=\"About Us\"\n          >\n            <ListItemIcon sx={{ color: isActive(\"/about\") ? \"primary.main\" : \"inherit\", minWidth: 38 }}>\n              <InfoOutlined />\n            </ListItemIcon>\n            <ListItemText\n              primary=\"About Us\"\n              primaryTypographyProps={{\n                fontWeight: isActive(\"/about\") ? 700 : 500,\n                color: isActive(\"/about\") ? 'primary.main' : 'inherit',\n                fontSize: '1.08rem',\n                letterSpacing: 0.2,\n              }}\n            />\n          </ListItem>\n\n          <Divider sx={{ my: 1 }} />\n          {isAuthenticated ? (\n            <ListItem\n              button\n              onClick={handleLogout}\n              sx={{ mx: 1, mb: 1, borderRadius: 2, fontWeight: 600, fontSize: '1.08rem', color: 'error.main', justifyContent: 'center' }}\n            >\n              <ListItemIcon sx={{ color: 'error.main', minWidth: 38 }}><Logout /></ListItemIcon>\n              <ListItemText primary=\"Logout\" primaryTypographyProps={{ fontWeight: 700, color: 'error.main', fontSize: '1.08rem', letterSpacing: 0.2 }} />\n            </ListItem>\n          ) : (\n            <ListItem\n              button\n              component={RouterLink}\n              to=\"/login\"\n              onClick={handleMobileMenuToggle}\n              sx={{ mx: 1, mb: 1, borderRadius: 2, fontWeight: 600, fontSize: '1.08rem', color: 'primary.main', justifyContent: 'center' }}\n            >\n              <ListItemIcon sx={{ color: 'primary.main', minWidth: 38 }}><Login /></ListItemIcon>\n              <ListItemText primary=\"Login\" primaryTypographyProps={{ fontWeight: 700, color: 'primary.main', fontSize: '1.08rem', letterSpacing: 0.2 }} />\n            </ListItem>\n          )}\n        </List>\n        <Box sx={{ flexGrow: 1 }} />\n        {/* Language Switcher as a left-aligned menu item at the bottom */}\n        <List sx={{ width: '100%', mb: 1 }}>\n          <ListItem button sx={{ borderRadius: 2, mx: 1, mb: 0.5, fontWeight: 600, fontSize: '1.08rem', color: 'primary.main', alignItems: 'center' }}>\n            <ListItemIcon sx={{ color: 'primary.main', minWidth: 38 }}>\n              {/* Optionally use a language icon here */}\n            </ListItemIcon>\n            <LanguageSwitcher drawerMenu />\n          </ListItem>\n        </List>\n      </Box>\n    </Drawer>\n  );\n\n  // Main render: responsive AppBar with logo, links, and user menu\n  return (\n    <>\n      <Slide\n        in={!isMobile || !mobileMenuOpen}\n        direction=\"down\"\n        appear={false}\n        mountOnEnter\n        unmountOnExit={false}\n      >\n        <AppBar\n          position=\"fixed\"\n          color=\"primary\"\n          elevation={4}\n          sx={{\n            zIndex: 1300,\n            background: 'rgba(46, 125, 50, 0.92)',\n            backdropFilter: 'blur(7px)',\n            boxShadow: '0 4px 24px 0 rgba(0,0,0,0.08)',\n          }}\n          role=\"navigation\"\n          aria-label=\"main navigation bar\"\n        >\n          <Container maxWidth=\"lg\" sx={{ px: { xs: 0.5, sm: 1.5 } }}>\n            <Toolbar sx={{ minHeight: { xs: 52, sm: 60 }, px: { xs: 0.5, sm: 1.5 } }}>\n              {/* Logo and title */}\n              <Box sx={{ display: 'flex', alignItems: 'center', minWidth: 0, mr: { xs: 1, sm: 2 } }} id=\"navbar-logo-bar\">\n                <RouterLink\n  to=\"/\"\n  style={{\n    textDecoration: 'none',\n    color: 'inherit',\n    display: 'flex',\n    alignItems: 'center',\n    minWidth: 0,\n    gap: 1,\n  }}\n  aria-label=\"Go to homepage\"\n>\n                <img\n                  src=\"/favicon.svg\"\n                  alt=\"AgriConnect Logo\"\n                  style={{ width: 38, height: 38, objectFit: 'contain', marginRight: 6, marginLeft: 2, display: 'block' }}\n                />\n                <Typography\n                  variant=\"h6\"\n                  component=\"div\"\n                  fontWeight=\"bold\"\n                  sx={{ display: 'block', fontSize: { xs: '1.08rem', sm: '1.23rem' }, letterSpacing: 0.5, lineHeight: 1, ml: 0, mr: 0, color: 'primary.contrastText', whiteSpace: 'nowrap' }}\n                >\n                  AgriConnect\n                </Typography>\n              </RouterLink>\n            </Box>\n            <Box sx={{ flexGrow: 1 }} />\n            {/* Desktop links - only on desktop */}\n            {!isMobile && (\n              <Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1.2 }}>\n                {mainMenuItems.filter(item => !item.auth || isAuthenticated).map((item) => (\n                  <Button\n                    key={item.text}\n                    color=\"inherit\"\n                    component={RouterLink}\n                    to={item.path}\n                    startIcon={item.icon}\n                    aria-label={item.text}\n                    sx={{\n                      px: 1.2,\n                      py: 0.7,\n                      borderRadius: 2,\n                      fontWeight: 500,\n                      fontSize: '0.98rem',\n                      letterSpacing: 0.2,\n                      backgroundColor: isActive(item.path)\n                        ? \"rgba(255,255,255,0.16)\"\n                        : \"transparent\",\n                      borderBottom: isActive(item.path)\n                        ? '2px solid #fff'\n                        : '2px solid transparent',\n                      transition: 'all 0.16s',\n                      minWidth: 0,\n                      '&:hover': {\n                        backgroundColor: \"rgba(255,255,255,0.22)\",\n                        borderBottom: '2px solid #fff',\n                      },\n                    }}\n                  >\n                    {item.text}\n                  </Button>\n                ))}\n                <Box sx={{ ml: 1.5 }}><LanguageSwitcher /></Box>\n                {/* User menu for authenticated users */}\n                {isAuthenticated ? (\n                  <>\n                    <Tooltip title=\"Account settings\">\n                      <IconButton\n                        onClick={handleMenuOpen}\n                        color=\"inherit\"\n                        aria-label=\"Open account menu\"\n                        sx={{ ml: 2, border: \"2px solid rgba(255,255,255,0.5)\", p: 0.5 }}\n                      >\n                        <Avatar sx={{ width: 36, height: 36 }} />\n                      </IconButton>\n                    </Tooltip>\n                    <Menu\n                      anchorEl={anchorEl}\n                      open={Boolean(anchorEl)}\n                      onClose={handleMenuClose}\n                      PaperProps={{ sx: { minWidth: 180 } }}\n                    >\n                      <MenuItem component={RouterLink} to=\"/profile\" onClick={handleMenuClose}>Profile</MenuItem>\n                      <MenuItem onClick={handleLogout}>Logout</MenuItem>\n                    </Menu>\n                  </>\n                ) : (\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    component={RouterLink}\n                    to=\"/login\"\n                    startIcon={<Login />}\n                    aria-label=\"Login\"\n                    sx={{\n                      ml: 2,\n                      borderRadius: 2,\n                      fontWeight: 600,\n                      px: 3,\n                      py: 1.2,\n                      fontSize: '1rem',\n                      boxShadow: '0 2px 10px 0 rgba(46,125,50,0.10)',\n                      letterSpacing: 0.5,\n                      textTransform: 'none',\n                      background: 'linear-gradient(90deg, #388E3C 0%, #2E7D32 100%)',\n                      color: '#fff',\n                      '&:hover': {\n                        background: 'linear-gradient(90deg, #2E7D32 0%, #388E3C 100%)',\n                        color: '#fff',\n                        boxShadow: '0 4px 16px 0 rgba(46,125,50,0.18)',\n                      },\n                    }}\n                  >\n                    Login\n                  </Button>\n                )}\n              </Box>\n            )}\n            {/* Mobile menu button - only on mobile */}\n            {isMobile && (\n              <IconButton\n                color=\"inherit\"\n                edge=\"end\"\n                aria-label=\"Open mobile menu\"\n                onClick={handleMobileMenuToggle}\n                sx={{ ml: 0.5 }}\n              >\n                <MenuIcon />\n              </IconButton>\n            )}\n          </Toolbar>\n        </Container>\n      </AppBar>\n      </Slide>\n      <Toolbar /> {/* Spacer for fixed AppBar */}\n      {/* Only render the mobile drawer on mobile screens */}\n      {isMobile && renderMobileMenu()}\n    </>\n  );\n};\n\nexport default Navbar;\n","// Footer.tsx\n// Enhanced responsive footer for AgriConnect\n// Includes updated links, social icons, and responsive design for all pages\nimport {\n  Box,\n  Container,\n  Grid,\n  Typography,\n  Link,\n  IconButton,\n  Divider,\n  useTheme,\n} from \"@mui/material\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Facebook, Twitter, Instagram, LinkedIn, Group, Forum, ShoppingBasket, InfoOutlined, HelpOutline, Home as HomeIcon } from \"@mui/icons-material\";\nimport { Link as MuiLink } from \"@mui/material\";\n\n// Footer component for AgriConnect\nconst Footer = () => {\n  const theme = useTheme();\n  const year = new Date().getFullYear();\n\n  // Footer navigation columns and links\n  const footerLinks = [\n    {\n      title: \"AgriConnect\",\n      links: [\n        { name: \"Home\", url: \"/\", icon: <HomeIcon fontSize=\"small\" sx={{ verticalAlign: 'middle', mr: 0.5 }} /> },\n        { name: \"Marketplace\", url: \"/marketplace\", icon: <ShoppingBasket fontSize=\"small\" sx={{ verticalAlign: 'middle', mr: 0.5 }} /> },\n        { name: \"About Us\", url: \"/about\", icon: <InfoOutlined fontSize=\"small\" sx={{ verticalAlign: 'middle', mr: 0.5 }} /> },\n        { name: \"FAQ\", url: \"/faq\", icon: <HelpOutline fontSize=\"small\" sx={{ verticalAlign: 'middle', mr: 0.5 }} /> },\n      ],\n    },\n  ];\n\n  return (\n    <Box\n      component=\"footer\"\n      sx={{\n        bgcolor: 'primary.main',\n        color: 'primary.contrastText',\n        pt: 3, // reduced from 6\n        pb: 1.5, // reduced from 3\n        mt: \"auto\",\n        borderRadius: { xs: 0, md: 4 },\n        boxShadow: { xs: '0 -2px 12px 0 rgba(46,125,50,0.10)', md: '0 -4px 24px 0 rgba(46,125,50,0.18)' },\n      }}\n    >\n      <Container maxWidth=\"lg\">\n        <Grid container spacing={4}>\n          {/* Render footer columns with links */}\n          {footerLinks.map((column, index) => (\n            <Grid item xs={12} sm={6} md={4} key={index}>\n              <Typography\n                variant=\"h6\"\n                color=\"text.primary\"\n                gutterBottom\n                sx={{ fontWeight: 600 }}\n              >\n                {column.title}\n              </Typography>\n              <Box>\n                {column.links.map((link, linkIndex) => (\n                  <Link\n                    key={linkIndex}\n                    component={RouterLink}\n                    to={link.url}\n                    color=\"inherit\"\n                    sx={{\n                      display: \"block\",\n                      mb: 1,\n                      textDecoration: \"none\",\n                      fontWeight: 500,\n                      '& svg': { verticalAlign: 'middle', mr: 0.5 },\n                      '&:hover': { color: '#fff', textDecoration: 'underline' },\n                      fontSize: '1.05rem',\n                      letterSpacing: 0.2,\n                      transition: 'color 0.18s',\n                    }}\n                  >\n                    {link.icon && link.icon} {link.name}\n                  </Link>\n                ))}\n              </Box>\n            </Grid>\n          ))}\n        </Grid>\n\n        <Box sx={{ mt: 2 }}>\n          <Divider />\n          {/* Removed unnecessary div containing 'OR' divider */}\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: { xs: \"column\", sm: \"row\" },\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              mt: 1.2, // reduced from 3\n            }}\n          >\n            {/* Copyright and social icons */}\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              &copy; {year} AgriConnect. All rights reserved.\n            </Typography>\n            <Box sx={{ mt: { xs: 2, sm: 0 } }}>\n              {/* Social media icons */}\n              <MuiLink\n                href=\"https://www.facebook.com/share/1HpsbxADwa/?mibextid=wwXIfr\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                sx={{ textDecoration: \"none\" }}\n              >\n                <IconButton\n                  aria-label=\"Facebook\"\n                  sx={{ color: \"#3b5998\", '&:hover': { color: theme.palette.primary.main } }}\n                >\n                  <Facebook />\n                </IconButton>\n              </MuiLink>\n              <MuiLink\n                href=\"https://x.com/AgriConncet\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                sx={{ textDecoration: \"none\" }}\n              >\n                <IconButton\n                  aria-label=\"Twitter\"\n                  sx={{ color: \"#1da1f2\", '&:hover': { color: theme.palette.primary.main } }}\n                >\n                  <Twitter />\n                </IconButton>\n              </MuiLink>\n              <MuiLink\n                href=\"https://instagram.com/connect.agriconnect\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                sx={{ textDecoration: \"none\" }}\n              >\n                <IconButton\n                  aria-label=\"Instagram\"\n                  sx={{ color: \"#e1306c\", '&:hover': { color: theme.palette.primary.main } }}\n                >\n                  <Instagram />\n                </IconButton>\n              </MuiLink>\n            </Box>\n          </Box>\n        </Box>\n      </Container>\n    </Box>\n  );\n};\n\nexport default Footer;\n","import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Container,\n  Grid,\n  Typography,\n  Card,\n  CardContent,\n  useTheme,\n} from \"@mui/material\";\nimport {\n  LocalShipping,\n  AttachMoney,\n  LocationOn,\n  ShoppingBasket,\n  CurrencyRupee,\n  VerifiedUser,\n  Group,\n} from \"@mui/icons-material\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nconst Home = () => {\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    setIsLoggedIn(!!token);\n  }, []);\n\n  const features = [\n    {\n      icon: (\n        <ShoppingBasket\n          sx={{ fontSize: 40, color: theme.palette.primary.main }}\n        />\n      ),\n      title: t(\"home.featuresBoxes.freshProduce.title\"),\n      description: t(\"home.featuresBoxes.freshProduce.description\"),\n    },\n    {\n      icon: (\n        <LocationOn sx={{ fontSize: 40, color: theme.palette.primary.main }} />\n      ),\n      title: t(\"home.featuresBoxes.localSourcing.title\"),\n      description: t(\"home.featuresBoxes.localSourcing.description\"),\n    },\n    {\n      icon: (\n        <VerifiedUser sx={{ fontSize: 40, color: theme.palette.primary.main }} />\n      ),\n      title: t(\"home.featuresBoxes.secureTransactions.title\"),\n      description: t(\"home.featuresBoxes.secureTransactions.description\"),\n    },\n    {\n      icon: (\n        <Group sx={{ fontSize: 40, color: theme.palette.primary.main }} />\n      ),\n      title: t(\"home.featuresBoxes.communitySupport.title\"),\n      description: t(\"home.featuresBoxes.communitySupport.description\"),\n    },\n  ];\n\n  return (\n    <Box>\n      {/* Hero Section */}\n      <Box\n        sx={{\n          background: `linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/hero-bg.jpg')`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          height: \"80vh\",\n          display: \"flex\",\n          alignItems: \"center\",\n          color: \"white\",\n        }}\n      >\n        <Container>\n          <Grid container spacing={4}>\n            <Grid item xs={12} md={6}>\n              <Typography\n                variant=\"h1\"\n                sx={{\n                  fontWeight: 700,\n                  mb: 2,\n                  fontSize: { xs: \"2.5rem\", md: \"3.5rem\" },\n                }}\n              >\n                {t(\"home.hero.title\")}\n              </Typography>\n              <Typography variant=\"h5\" sx={{ mb: 4, fontWeight: 400 }}>\n                {t(\"home.hero.subtitle\")}\n              </Typography>\n              <Button\n                component={RouterLink}\n                to=\"/marketplace\"\n                variant=\"contained\"\n                size=\"large\"\n                sx={{\n                  mr: { xs: 0, md: 2 }, // Remove right margin on mobile\n                  mb: { xs: 2, md: 0 }, // Add bottom margin on mobile\n                  px: 4,\n                  py: 1.5,\n                  fontSize: \"1.1rem\",\n                }}\n              >\n                {t(\"home.hero.exploreMarketplace\")}\n              </Button>\n              <Button\n                component={RouterLink}\n                to={isLoggedIn ? \"dashboard\" : \"register\"}\n                variant=\"outlined\"\n                size=\"large\"\n                sx={{\n                  px: 4,\n                  py: 1.5,\n                  fontSize: \"1.1rem\",\n                  color: \"white\",\n                  borderColor: \"white\",\n                  \"&:hover\": {\n                    borderColor: \"white\",\n                    backgroundColor: \"rgba(255, 255, 255, 0.1)\",\n                  },\n                }}\n              >\n                {isLoggedIn ? t(\"home.hero.goToDashboard\") : t(\"home.hero.register\")}\n              </Button>\n            </Grid>\n          </Grid>\n        </Container>\n      </Box>\n\n      {/* Features Section */}\n      <Box sx={{ py: 8, backgroundColor: \"background.default\" }}>\n        <Container>\n          <Typography variant=\"h2\" align=\"center\" sx={{ mb: 6 }}>\n            {t(\"home.features.title\")}\n          </Typography>\n          <Grid container spacing={4}>\n            {features.map((feature, index) => (\n              <Grid item xs={12} sm={6} md={3} key={index}>\n                <Card\n                  sx={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    textAlign: \"center\",\n                    p: 3,\n                    transition: \"transform 0.2s\",\n                    \"&:hover\": {\n                      transform: \"translateY(-5px)\",\n                    },\n                  }}\n                >\n                  <Box sx={{ mb: 2 }}>{feature.icon}</Box>\n                  <CardContent>\n                    <Typography\n                      variant=\"h5\"\n                      component=\"h3\"\n                      sx={{ mb: 2, fontWeight: 600 }}\n                    >\n                      {feature.title}\n                    </Typography>\n                    <Typography variant=\"body1\" color=\"text.secondary\">\n                      {feature.description}\n                    </Typography>\n                  </CardContent>\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        </Container>\n      </Box>\n\n      {/* CTA Section */}\n      {!isLoggedIn && (\n        <Box\n          sx={{\n            py: 8,\n            backgroundColor: theme.palette.primary.main,\n            color: \"white\",\n          }}\n        >\n          <Container>\n            <Grid container spacing={4} alignItems=\"center\">\n              <Grid item xs={12} md={8}>\n                <Typography variant=\"h3\" sx={{ mb: 2 }}>\n                  {t(\"home.cta.title\")}\n                </Typography>\n                <Typography variant=\"h6\" sx={{ mb: 3, fontWeight: 400 }}>\n                  {t(\"home.cta.subtitle\")}\n                </Typography>\n              </Grid>\n              <Grid item xs={12} md={4} sx={{ textAlign: \"center\" }}>\n                <Button\n                  component={RouterLink}\n                  to=\"/login\"\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  size=\"large\"\n                  sx={{\n                    px: 4,\n                    py: 1.5,\n                    fontSize: \"1.1rem\",\n                  }}\n                >\n                  {t(\"home.cta.signUp\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Container>\n        </Box>\n      )}\n    </Box>\n  );\n};\n\nexport default Home;\n","import { Navigate, Outlet } from 'react-router-dom';\n\nconst PrivateRoute = () => {\n  const token = localStorage.getItem('token');\n  return token ? <Outlet /> : <Navigate to=\"/login\" replace />;\n};\n\nexport default PrivateRoute;\n","import { CircularProgress, Typography, Box, useTheme, useMediaQuery } from \"@mui/material\";\r\n\r\nconst LoadingSpinner = () => {\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        minHeight: 200,\r\n        display: 'grid',\r\n        placeItems: 'center',\r\n        textAlign: 'center',\r\n        p: 2\r\n      }}\r\n      aria-label=\"Loading content\"\r\n    >\r\n      <CircularProgress \r\n        size={isMobile ? 40 : 56} \r\n        thickness={4}\r\n        sx={{ mb: 2 }}\r\n      />\r\n      {!isMobile && (\r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n          Loading content...\r\n        </Typography>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner;","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nfunction toArray(data) {\n    if (data instanceof Uint8Array) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    else {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength);\n    }\n}\nlet TEXT_ENCODER;\nexport function encodePacketToBinary(packet, callback) {\n    if (withNativeBlob && packet.data instanceof Blob) {\n        return packet.data.arrayBuffer().then(toArray).then(callback);\n    }\n    else if (withNativeArrayBuffer &&\n        (packet.data instanceof ArrayBuffer || isView(packet.data))) {\n        return callback(toArray(packet.data));\n    }\n    encodePacket(packet, false, (encoded) => {\n        if (!TEXT_ENCODER) {\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexport { encodePacket };\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE, } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nexport const decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType),\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type],\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            if (data instanceof Blob) {\n                // from WebSocket + binaryType \"blob\"\n                return data;\n            }\n            else {\n                // from HTTP long-polling or WebTransport\n                return new Blob([data]);\n            }\n        case \"arraybuffer\":\n        default:\n            if (data instanceof ArrayBuffer) {\n                // from HTTP long-polling (base64) or WebSocket + binaryType \"arraybuffer\"\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n    }\n};\n","import { encodePacket, encodePacketToBinary } from \"./encodePacket.js\";\nimport { decodePacket } from \"./decodePacket.js\";\nimport { ERROR_PACKET, } from \"./commons.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport function createPacketEncoderStream() {\n    return new TransformStream({\n        transform(packet, controller) {\n            encodePacketToBinary(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nexport function createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* State.READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* State.READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* State.READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* State.READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* State.READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* State.READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else if (state === 2 /* State.READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* State.READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue(decodePacket(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* State.READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload, };\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","export const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\nexport const defaultBinaryType = \"arraybuffer\";\nexport function createCookieJar() { }\n","import { globalThisShim as globalThis } from \"./globals.node.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n/**\n * Generates a random 8-characters string.\n */\nexport function randomString() {\n    return (Date.now().toString(36).substring(3) +\n        Math.random().toString(36).substring(2, 5));\n}\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nimport { encode } from \"./contrib/parseqs.js\";\nexport class TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n        this.supportsBinary = !opts.forceBase64;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = encode(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { randomString } from \"../util.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nexport class Polling extends Transport {\n    constructor() {\n        super(...arguments);\n        this._polling = false;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this._poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this._polling || !this.writable) {\n            let total = 0;\n            if (this._polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    _poll() {\n        this._polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this._polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this._poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","import { Polling } from \"./polling.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globals.node.js\";\nimport { hasCORS } from \"../contrib/has-cors.js\";\nfunction empty() { }\nexport class BaseXHR extends Polling {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(createRequest, uri, opts) {\n        super();\n        this.createRequest = createRequest;\n        installTimerFunctions(this, opts);\n        this._opts = opts;\n        this._method = opts.method || \"GET\";\n        this._uri = uri;\n        this._data = undefined !== opts.data ? opts.data : null;\n        this._create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    _create() {\n        var _a;\n        const opts = pick(this._opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this._opts.xd;\n        const xhr = (this._xhr = this.createRequest(opts));\n        try {\n            xhr.open(this._method, this._uri, true);\n            try {\n                if (this._opts.extraHeaders) {\n                    // @ts-ignore\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this._opts.extraHeaders) {\n                        if (this._opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this._opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this._method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this._opts.withCredentials;\n            }\n            if (this._opts.requestTimeout) {\n                xhr.timeout = this._opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this._opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(\n                    // @ts-ignore\n                    xhr.getResponseHeader(\"set-cookie\"));\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this._onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this._onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this._data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this._onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this._index = Request.requestsCount++;\n            Request.requests[this._index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    _onError(err) {\n        this.emitReserved(\"error\", err, this._xhr);\n        this._cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    _cleanup(fromError) {\n        if (\"undefined\" === typeof this._xhr || null === this._xhr) {\n            return;\n        }\n        this._xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this._xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this._index];\n        }\n        this._xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    _onLoad() {\n        const data = this._xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this._cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this._cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\nconst hasXHR2 = (function () {\n    const xhr = newRequest({\n        xdomain: false,\n    });\n    return xhr && xhr.responseType !== null;\n})();\n/**\n * HTTP long-polling based on the built-in `XMLHttpRequest` object.\n *\n * Usage: browser\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n */\nexport class XHR extends BaseXHR {\n    constructor(opts) {\n        super(opts);\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd }, this.opts);\n        return new Request(newRequest, this.uri(), opts);\n    }\n}\nfunction newRequest(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { pick, randomString } from \"../util.js\";\nimport { encodePacket } from \"engine.io-parser\";\nimport { globalThisShim as globalThis, nextTick } from \"../globals.node.js\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class BaseWS extends Transport {\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws = this.createSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    this.doWrite(packet, data);\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.onerror = () => { };\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = randomString();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n}\nconst WebSocketCtor = globalThis.WebSocket || globalThis.MozWebSocket;\n/**\n * WebSocket transport based on the built-in `WebSocket` object.\n *\n * Usage: browser, Node.js (since v21), Deno, Bun\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket\n * @see https://caniuse.com/mdn-api_websocket\n * @see https://nodejs.org/api/globals.html#websocket\n */\nexport class WS extends BaseWS {\n    createSocket(uri, protocols, opts) {\n        return !isReactNative\n            ? protocols\n                ? new WebSocketCtor(uri, protocols)\n                : new WebSocketCtor(uri)\n            : new WebSocketCtor(uri, protocols, opts);\n    }\n    doWrite(_packet, data) {\n        this.ws.send(data);\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { nextTick } from \"../globals.node.js\";\nimport { createPacketDecoderStream, createPacketEncoderStream, } from \"engine.io-parser\";\n/**\n * WebTransport transport based on the built-in `WebTransport` object.\n *\n * Usage: browser, Node.js (with the `@fails-components/webtransport` package)\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/WebTransport\n * @see https://caniuse.com/webtransport\n */\nexport class WT extends Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        try {\n            // @ts-ignore\n            this._transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this._transport.closed\n            .then(() => {\n            this.onClose();\n        })\n            .catch((err) => {\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this._transport.ready.then(() => {\n            this._transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = createPacketDecoderStream(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = createPacketEncoderStream();\n                encoderStream.readable.pipeTo(stream.writable);\n                this._writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            return;\n                        }\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this._writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this._writer.write(packet).then(() => {\n                if (lastPacket) {\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this._transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\n","import { XHR } from \"./polling-xhr.node.js\";\nimport { WS } from \"./websocket.node.js\";\nimport { WT } from \"./webtransport.js\";\nexport const transports = {\n    websocket: WS,\n    webtransport: WT,\n    polling: XHR,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    if (str.length > 8000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports as DEFAULT_TRANSPORTS } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nimport { createCookieJar, defaultBinaryType, nextTick, } from \"./globals.node.js\";\nconst withEventListeners = typeof addEventListener === \"function\" &&\n    typeof removeEventListener === \"function\";\nconst OFFLINE_EVENT_LISTENERS = [];\nif (withEventListeners) {\n    // within a ServiceWorker, any event handler for the 'offline' event must be added on the initial evaluation of the\n    // script, so we create one single event listener here which will forward the event to the socket instances\n    addEventListener(\"offline\", () => {\n        OFFLINE_EVENT_LISTENERS.forEach((listener) => listener());\n    }, false);\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes without upgrade mechanism, which means that it will keep the first low-level transport that\n * successfully establishes the connection.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithoutUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithoutUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithUpgrade\n * @see Socket\n */\nexport class SocketWithoutUpgrade extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts) {\n        super();\n        this.binaryType = defaultBinaryType;\n        this.writeBuffer = [];\n        this._prevBufferLen = 0;\n        this._pingInterval = -1;\n        this._pingTimeout = -1;\n        this._maxPayload = -1;\n        /**\n         * The expiration timestamp of the {@link _pingTimeoutTimer} object is tracked, in case the timer is throttled and the\n         * callback is not fired on time. This can happen for example when a laptop is suspended or when a phone is locked.\n         */\n        this._pingTimeoutTime = Infinity;\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            const parsedUri = parse(uri);\n            opts.hostname = parsedUri.host;\n            opts.secure =\n                parsedUri.protocol === \"https\" || parsedUri.protocol === \"wss\";\n            opts.port = parsedUri.port;\n            if (parsedUri.query)\n                opts.query = parsedUri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = [];\n        this._transportsByName = {};\n        opts.transports.forEach((t) => {\n            const transportName = t.prototype.name;\n            this.transports.push(transportName);\n            this._transportsByName[transportName] = t;\n        });\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        if (withEventListeners) {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this._beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this._offlineEventListener = () => {\n                    this._onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener);\n            }\n        }\n        if (this.opts.withCredentials) {\n            this._cookieJar = createCookieJar();\n        }\n        this._open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        return new this._transportsByName[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    _open() {\n        if (this.transports.length === 0) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        const transportName = this.opts.rememberUpgrade &&\n            SocketWithoutUpgrade.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1\n            ? \"websocket\"\n            : this.transports[0];\n        this.readyState = \"opening\";\n        const transport = this.createTransport(transportName);\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this._onDrain.bind(this))\n            .on(\"packet\", this._onPacket.bind(this))\n            .on(\"error\", this._onError.bind(this))\n            .on(\"close\", (reason) => this._onClose(\"transport close\", reason));\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        SocketWithoutUpgrade.priorWebsocketSuccess =\n            \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    _onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this._sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    this._resetPingTimeout();\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this._onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this._pingInterval = data.pingInterval;\n        this._pingTimeout = data.pingTimeout;\n        this._maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this._resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    _resetPingTimeout() {\n        this.clearTimeoutFn(this._pingTimeoutTimer);\n        const delay = this._pingInterval + this._pingTimeout;\n        this._pingTimeoutTime = Date.now() + delay;\n        this._pingTimeoutTimer = this.setTimeoutFn(() => {\n            this._onClose(\"ping timeout\");\n        }, delay);\n        if (this.opts.autoUnref) {\n            this._pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    _onDrain() {\n        this.writeBuffer.splice(0, this._prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this._prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this._getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this._prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    _getWritablePackets() {\n        const shouldCheckPayloadSize = this._maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this._maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Checks whether the heartbeat timer has expired but the socket has not yet been notified.\n     *\n     * Note: this method is private for now because it does not really fit the WebSocket API, but if we put it in the\n     * `write()` method then the message would not be buffered by the Socket.IO client.\n     *\n     * @return {boolean}\n     * @private\n     */\n    /* private */ _hasPingExpired() {\n        if (!this._pingTimeoutTime)\n            return true;\n        const hasExpired = Date.now() > this._pingTimeoutTime;\n        if (hasExpired) {\n            this._pingTimeoutTime = 0;\n            nextTick(() => {\n                this._onClose(\"ping timeout\");\n            }, this.setTimeoutFn);\n        }\n        return hasExpired;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a message. Alias of {@link Socket#write}.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @return {Socket} for chaining.\n     */\n    send(msg, options, fn) {\n        this._sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    _sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this._onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    _onError(err) {\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        if (this.opts.tryAllTransports &&\n            this.transports.length > 1 &&\n            this.readyState === \"opening\") {\n            this.transports.shift();\n            return this._open();\n        }\n        this.emitReserved(\"error\", err);\n        this._onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    _onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this._pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (withEventListeners) {\n                if (this._beforeunloadEventListener) {\n                    removeEventListener(\"beforeunload\", this._beforeunloadEventListener, false);\n                }\n                if (this._offlineEventListener) {\n                    const i = OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);\n                    if (i !== -1) {\n                        OFFLINE_EVENT_LISTENERS.splice(i, 1);\n                    }\n                }\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this._prevBufferLen = 0;\n        }\n    }\n}\nSocketWithoutUpgrade.protocol = protocol;\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * In order to allow tree-shaking, there are no transports included, that's why the `transports` option is mandatory.\n *\n * @example\n * import { SocketWithUpgrade, WebSocket } from \"engine.io-client\";\n *\n * const socket = new SocketWithUpgrade({\n *   transports: [WebSocket]\n * });\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see Socket\n */\nexport class SocketWithUpgrade extends SocketWithoutUpgrade {\n    constructor() {\n        super(...arguments);\n        this._upgrades = [];\n    }\n    onOpen() {\n        super.onOpen();\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            for (let i = 0; i < this._upgrades.length; i++) {\n                this._probe(this._upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    _probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        SocketWithoutUpgrade.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    SocketWithoutUpgrade.priorWebsocketSuccess =\n                        \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this._upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    onHandshake(data) {\n        this._upgrades = this._filterUpgrades(data.upgrades);\n        super.onHandshake(data);\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    _filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        for (let i = 0; i < upgrades.length; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\n/**\n * This class provides a WebSocket-like interface to connect to an Engine.IO server. The connection will be established\n * with one of the available low-level transports, like HTTP long-polling, WebSocket or WebTransport.\n *\n * This class comes with an upgrade mechanism, which means that once the connection is established with the first\n * low-level transport, it will try to upgrade to a better transport.\n *\n * @example\n * import { Socket } from \"engine.io-client\";\n *\n * const socket = new Socket();\n *\n * socket.on(\"open\", () => {\n *   socket.send(\"hello\");\n * });\n *\n * @see SocketWithoutUpgrade\n * @see SocketWithUpgrade\n */\nexport class Socket extends SocketWithUpgrade {\n    constructor(uri, opts = {}) {\n        const o = typeof uri === \"object\" ? uri : opts;\n        if (!o.transports ||\n            (o.transports && typeof o.transports[0] === \"string\")) {\n            o.transports = (o.transports || [\"polling\", \"websocket\", \"webtransport\"])\n                .map((transportName) => DEFAULT_TRANSPORTS[transportName])\n                .filter((t) => !!t);\n        }\n        super(uri, o);\n    }\n}\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","import React, { createContext, useContext, useEffect, useState } from 'react';\nimport { io, Socket } from 'socket.io-client';\n\nexport const SocketContext = createContext<Socket | null>(null);\n\nexport const SocketProvider: React.FC<{children: React.ReactNode, token: string | null}> = ({ children, token }) => {\n  const [socket, setSocket] = useState<Socket | null>(null);\n\n  useEffect(() => {\n    if (token) {\n      const socketInstance = io(import.meta.env.VITE_WS_URL, {\n        auth: { token },\n        transports: ['websocket']\n      });\n      setSocket(socketInstance);\n      return () => { socketInstance.disconnect(); };\n    }\n  }, [token]);\n\n  return <SocketContext.Provider value={socket}>{children}</SocketContext.Provider>;\n};\n\nexport const useSocket = () => {\n  return useContext(SocketContext);\n};\n","import React, { createContext, useContext, useState } from 'react';\nimport { Snackbar, Alert } from '@mui/material';\n\nexport const NotificationContext = createContext<any>(null);\n\nexport const NotificationProvider: React.FC<{children: React.ReactNode}> = ({ children }) => {\n  const [notification, setNotification] = useState<{message: string, severity: 'success'|'error'|'info'|'warning'}|null>(null);\n  const [open, setOpen] = useState(false);\n\n  const notify = (message: string, severity: 'success'|'error'|'info'|'warning' = 'info') => {\n    setNotification({ message, severity });\n    setOpen(true);\n  };\n\n  const handleClose = () => setOpen(false);\n\n  return (\n    <NotificationContext.Provider value={{ notify }}>\n      {children}\n      <Snackbar open={open} autoHideDuration={4000} onClose={handleClose} anchorOrigin={{ vertical: 'top', horizontal: 'center' }}>\n        <Alert onClose={handleClose} severity={notification?.severity || 'info'} sx={{ width: '100%' }}>\n          {notification?.message}\n        </Alert>\n      </Snackbar>\n    </NotificationContext.Provider>\n  );\n};\n\nexport const useNotification = () => useContext(NotificationContext);\n","import { useContext } from 'react';\nimport { SocketContext } from '../contexts/SocketContext';\n\nexport const useSocket = () => useContext(SocketContext);\n","import { useContext } from 'react';\nimport { NotificationContext } from '../contexts/NotificationContext';\n\nexport const useNotification = () => useContext(NotificationContext);\n","import React, { useEffect } from 'react';\nimport { useSocket } from '../hooks/useSocket';\nimport { useNotification } from '../hooks/useNotification';\nimport { Socket } from 'socket.io-client';\n\nconst NotificationWidget: React.FC = () => {\n  const socket = useSocket() as Socket | null;\n  const { notify } = useNotification() as { notify: (msg: string, severity?: 'success'|'error'|'info'|'warning') => void };\n\n  useEffect(() => {\n    if (!socket) return;\n    const handleOrderStatus = (order: any) => {\n      notify(`Order status updated: ${order.status}`, 'info');\n    };\n    const handleMessage = (msg: any) => {\n      notify(`New message from ${msg.from}: ${msg.text}`, 'info');\n    };\n    socket.on('order:status', handleOrderStatus);\n    socket.on('message', handleMessage);\n    // Clean up listeners on unmount\n    return () => {\n      socket.off('order:status', handleOrderStatus);\n      socket.off('message', handleMessage);\n    };\n  }, [socket, notify]);\n\n  return null; // This widget just listens and notifies\n};\n\nexport default NotificationWidget;\n","import './i18n';\nimport { lazy, Suspense } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport { ThemeProvider, createTheme, CssBaseline } from '@mui/material';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n// Core components (static imports)\nimport Navbar from './components/layout/Navbar';\nimport Footer from './components/layout/Footer';\nimport Home from './pages/Home';\nimport PrivateRoute from './components/PrivateRoute';\nimport LoadingSpinner from './components/LoadingSpinner';\n\n// Lazy-loaded components\nconst Dashboard = lazy(() => import('./pages/Dashboard'));\nconst Marketplace = lazy(() => import('./pages/Marketplace'));\nconst ProductDetails = lazy(() => import('./pages/ProductDetails'));\nconst Profile = lazy(() => import('./pages/Profile'));\nconst Login = lazy(() => import('./pages/Login'));\nconst Register = lazy(() => import('./pages/Register'));\nconst ManageProducts = lazy(() => import('./pages/ManageProducts'));\nconst About = lazy(() => import('./pages/About'));\nconst Contact = lazy(() => import('./pages/Contact'));\nconst FAQ = lazy(() => import('./pages/FAQ'));\nconst ErrorPage = lazy(() => import('./pages/ErrorPage'));\nconst AdminLogin = lazy(() => import('./pages/AdminLogin'));\nconst AdminDashboard = lazy(() => import('./pages/AdminDashboard'));\n\n// Context providers\nimport { AuthProvider } from './contexts/AuthContext';\nimport { SocketProvider } from './contexts/SocketContext';\nimport { NotificationProvider } from './contexts/NotificationContext';\nimport NotificationWidget from './components/NotificationWidget';\n\n// Theme configuration\nconst theme = createTheme({\n  palette: {\n    primary: { main: '#2E7D32', light: '#4CAF50', dark: '#1B5E20' },\n    secondary: { main: '#FFA000', light: '#FFB300', dark: '#FF8F00' },\n    background: { default: '#F5F5F5', paper: '#FFFFFF' },\n  },\n  typography: {\n    fontFamily: '\"Poppins\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    h1: { fontSize: '2.5rem', fontWeight: 600 },\n    h2: { fontSize: '2rem', fontWeight: 600 },\n    h3: { fontSize: '1.75rem', fontWeight: 500 },\n  },\n  components: {\n    MuiButton: { styleOverrides: { root: { borderRadius: 8, textTransform: 'none', fontWeight: 500 } } },\n    MuiCard: { styleOverrides: { root: { borderRadius: 12, boxShadow: '0 4px 12px rgba(0,0,0,0.1)' } } },\n    MuiContainer: {\n      styleOverrides: {\n        root: { padding: '0 16px', '@media (min-width:600px)': { padding: '0 24px' } }\n      }\n    },\n    MuiPaper: { styleOverrides: { root: { borderRadius: 8 } } },\n    MuiCardContent: {\n      styleOverrides: { root: { padding: 16, '&:last-child': { paddingBottom: 16 } } }\n    },\n    MuiCardMedia: { styleOverrides: { root: { borderRadius: '8px 8px 0 0' } } },\n  },\n  spacing: 8,\n  breakpoints: { values: { xs: 0, sm: 600, md: 960, lg: 1280, xl: 1536 } }\n});\n\nfunction App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AuthProvider>\n        <NotificationProvider>\n          <SocketProvider token={null}>\n            <Router>\n              <div className=\"app\">\n                <Navbar />\n                <main className=\"main-content\">\n                  <Routes>\n                    <Route path=\"/\" element={<Home />} />\n\n                    <Route path=\"/marketplace\" element={\n                      <Suspense fallback={<LoadingSpinner />}>\n                        <Marketplace />\n                      </Suspense>\n                    }/>\n\n                    <Route path=\"/products/:id\" element={\n                      <Suspense fallback={<LoadingSpinner />}>\n                        <ProductDetails />\n                      </Suspense>\n                    }/>\n\n                    <Route element={<PrivateRoute />}>\n                      <Route path=\"/profile\" element={\n                        <Suspense fallback={<LoadingSpinner />}>\n                          <Profile />\n                        </Suspense>\n                      }/>\n                      <Route path=\"/dashboard\" element={\n                        <Suspense fallback={<LoadingSpinner />}>\n                          <Dashboard />\n                        </Suspense>\n                      }/>\n                      <Route path=\"/my-products\" element={\n                        <Suspense fallback={<LoadingSpinner />}>\n                          <ManageProducts />\n                        </Suspense>\n                      }/>\n                    </Route>\n\n                    <Route path=\"/login\" element={\n                      <Suspense fallback={<LoadingSpinner />}>\n                        <Login />\n                      </Suspense>\n                    }/>\n\n                    <Route path=\"/register\" element={\n                      <Suspense fallback={<LoadingSpinner />}>\n                        <Register />\n                      </Suspense>\n                    }/>\n\n                    <Route path=\"/about\" element={\n                      <Suspense fallback={<LoadingSpinner />}>\n                        <About />\n                      </Suspense>\n                    }/>\n\n                    <Route path=\"/contact\" element={\n                      <Suspense fallback={<LoadingSpinner />}>\n                        <Contact />\n                      </Suspense>\n                    }/>\n\n                    <Route path=\"/faq\" element={\n                      <Suspense fallback={<LoadingSpinner />}>\n                        <FAQ />\n                      </Suspense>\n                    }/>\n\n                    <Route path=\"/admin\" element={<AdminLogin />} />\n                    <Route path=\"/admin/dashboard\" element={<AdminDashboard />} />\n\n                    <Route path=\"*\" element={\n                      <Suspense fallback={<LoadingSpinner />}>\n                        <ErrorPage />\n                      </Suspense>\n                    }/>\n                  </Routes>\n                </main>\n                <Footer />\n                <NotificationWidget />\n              </div>\n            </Router>\n            <ToastContainer \n              position=\"bottom-right\"\n              autoClose={5000}\n              hideProgressBar={false}\n              newestOnTop\n              closeOnClick\n              rtl={false}\n              pauseOnFocusLoss\n              draggable\n              pauseOnHover\n            />\n          </SocketProvider>\n        </NotificationProvider>\n      </AuthProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport './index.css';\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n); "],"file":"assets/main-C0WwnIgH.js"}